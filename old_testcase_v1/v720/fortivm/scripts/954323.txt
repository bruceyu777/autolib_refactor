# Test Case: 954323
# Objective: FGT_VM can create long vdom 
# 
################################################

[FVM_A]
    comment 954323:Busy:Verify create long name vdom in FGTVM 

    exe log delete-all
    y

    config system global
        set vdom-mode multi-vdom
    end
    y

[FVM_A]
    config global
        config system global
            set long-vdom-name enable
        end
    end
    
    config vdom
    edit vdom1
    next

    sleep 2
    
    edit longvdom1234567890
    y
    end

    sleep 3
    get system status | grep 'domains'
    expect -e "3 in NAT mode" -for 954323 -t 5

    config vdom
    edit root
    
    exe log filter category event
    exe log filter field action add-vdom
    exe log display
    expect -e "Virtual domain longvdom1234567890 is added" -for 954323 -t 10

    end

    config vdom
    delete vdom1
    sleep 2
    delete longvdom1234567890
    sleep 3
    end

    config global
    config system global
        set long-vdom-name disable
        set vdom-mode no-vdom
    end
    y

[FVM_A]

    report 954323
